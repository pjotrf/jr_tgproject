# ü§ñ Telegram GPT Bot

–ë–æ—Ç –Ω–∞ **Aiogram 3.x** —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π **ChatGPT** –∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏:

- üé≤ –†–∞–Ω–¥–æ–º–Ω—ã–π —Ñ–∞–∫—Ç
- üí¨ GPT-—á–∞—Ç
- üßë‚Äçüéì –î–∏–∞–ª–æ–≥ —Å –∏–∑–≤–µ—Å—Ç–Ω–æ–π –ª–∏—á–Ω–æ—Å—Ç—å—é
- üìù –ö–≤–∏–∑ (–≤–∞—Ä–∏–∞–Ω—Ç—ã A‚ÄìD, –≤–µ–¥—ë—Ç—Å—è —Å—á—ë—Ç)
- üåê –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫
- üé¨ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üöÄ –ó–∞–ø—É—Å–∫

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- –£—Å—Ç–∞–Ω–æ–≤–∏ [Docker Desktop](https://www.docker.com/products/docker-desktop/).
- –°–∫–ª–æ–Ω–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ —Ä–∞—Å–ø–∞–∫—É–π –∞—Ä—Ö–∏–≤.

### 2. –ù–∞—Å—Ç—Ä–æ–π `.env`

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ —Ä—è–¥–æ–º —Å `docker-compose.yml`:

```env
TELEGRAM_TOKEN=1234567890:ABCDEF...
OPENAI_API_KEY=sk-...
TZ=Europe/Tallinn
```

> ‚ö†Ô∏è `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.dockerignore`, –≤ git –æ–Ω –Ω–µ –ø–æ–ø–∞–¥—ë—Ç.

### 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
docker compose build
docker compose up -d
```

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```bash
docker logs -f tg_gpt_aiogram_bot
```

–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
docker compose restart
docker compose down
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞

–í Telegram –æ—Ç–∫—Ä–æ–π —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –∏ –≤–≤–µ–¥–∏:
```
/start
```

–¢—ã —É–≤–∏–¥–∏—à—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (6 –∫–Ω–æ–ø–æ–∫ –≤ 3 —Å—Ç—Ä–æ–∫–∏) –∏ –∫–Ω–æ–ø–∫—É üè† **–ú–µ–Ω—é** —Å–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ bot.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ core/                 # –î–∏—Å–ø–µ—Ç—á–µ—Ä, –∫–æ–Ω—Ñ–∏–≥
‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ services/             # –†–∞–±–æ—Ç–∞ —Å OpenAI, —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ Dockerfile            # –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
‚îú‚îÄ‚îÄ docker-compose.yml    # –°–µ—Ä–≤–∏—Å –¥–ª—è –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ requirements.txt      # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ healthcheck.py        # –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## üõ† –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```bash
docker compose ps
```

–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞:
```bash
docker compose up -d --build
```

–í–æ–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
```bash
docker exec -it tg_gpt_aiogram_bot bash
```

---

## ‚ùì –¢—Ä–∞–±–ª—à—É—Ç–∏–Ω–≥

- **`Token is invalid` / `NoneType`**  
  –ü—Ä–æ–≤–µ—Ä—å `.env`, —Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `1234567890:ABCDEF...`.

- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è / unhealthy**  
  –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—É–ø –∫ `api.telegram.org` –∏ `api.openai.com`.

- **–ò–∑–º–µ–Ω–∏–ª –∫–æ–¥, –∞ –±–æ—Ç –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è**  
  –°–¥–µ–ª–∞–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É:
  ```bash
  docker compose up -d --build
  ```

---

