# ๐ค Telegram GPT Bot

ะะพั ะฝะฐ **Aiogram 3.x** ั ะธะฝัะตะณัะฐัะธะตะน **ChatGPT** ะธ ะฝะตัะบะพะปัะบะธะผะธ ัะตะถะธะผะฐะผะธ:

- ๐ฒ ะะฐะฝะดะพะผะฝัะน ัะฐะบั
- ๐ฌ GPT-ัะฐั
- ๐งโ๐ ะะธะฐะปะพะณ ั ะธะทะฒะตััะฝะพะน ะปะธัะฝะพัััั
- ๐ ะะฒะธะท (ะฒะฐัะธะฐะฝัั AโD, ะฒะตะดัััั ัััั)
- ๐ ะะตัะตะฒะพะดัะธะบ
- ๐ฌ ะะตะบะพะผะตะฝะดะฐัะธะธ

## ๐ ะะฐะฟััะบ

### 1. ะะพะดะณะพัะพะฒะบะฐ
- ะฃััะฐะฝะพะฒะธ [Docker Desktop](https://www.docker.com/products/docker-desktop/).
- ะกะบะปะพะฝะธััะน ะฟัะพะตะบั ะธะปะธ ัะฐัะฟะฐะบัะน ะฐััะธะฒ.

### 2. ะะฐัััะพะน `.env`

ะกะพะทะดะฐะน ัะฐะนะป `.env` ะฒ ะบะพัะฝะต ััะดะพะผ ั `docker-compose.yml`:

```env
TELEGRAM_TOKEN=1234567890:ABCDEF...
OPENAI_API_KEY=sk-...
TZ=Europe/Tallinn
```

> โ๏ธ `.env` ะดะพะฑะฐะฒะปะตะฝ ะฒ `.dockerignore`, ะฒ git ะพะฝ ะฝะต ะฟะพะฟะฐะดัั.

### 3. ะกะฑะพัะบะฐ ะธ ะทะฐะฟััะบ

```bash
docker compose build
docker compose up -d
```

ะัะพะฒะตัะธัั ะปะพะณะธ:
```bash
docker logs -f tg_gpt_aiogram_bot
```

ะััะฐะฝะพะฒะธัั/ะฟะตัะตะทะฐะฟัััะธัั:
```bash
docker compose restart
docker compose down
```

### 4. ะัะพะฒะตัะบะฐ

ะ Telegram ะพัะบัะพะน ัะฒะพะตะณะพ ะฑะพัะฐ ะธ ะฒะฒะตะดะธ:
```
/start
```

ะขั ัะฒะธะดะธัั ะณะปะฐะฒะฝะพะต ะผะตะฝั (6 ะบะฝะพะฟะพะบ ะฒ 3 ัััะพะบะธ) ะธ ะบะฝะพะฟะบั ๐ **ะะตะฝั** ัะฝะธะทั ัะบัะฐะฝะฐ.

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ bot.py # ัะพัะบะฐ ะฒัะพะดะฐ
โโโ config.py # ะบะพะฝัะธะณััะฐัะธั (ัะพะบะตะฝั)
โโโ core/
โ โโโ dispatcher.py # ะธะฝะธัะธะฐะปะธะทะฐัะธั ะฑะพัะฐ ะธ ะปะพะณะธัะพะฒะฐะฝะธะต
โ โโโ logger.py # ะฝะฐัััะพะนะบะฐ ะปะพะณะณะตัะฐ
โโโ handlers/ # ะพะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด ะธ callback
โ โโโ start.py
โ โโโ random_fact.py
โ โโโ gpt.py
โ โโโ talk.py
โ โโโ quiz.py
โ โโโ translator.py
โ โโโ recs.py
โโโ keyboards/ # ะบะปะฐะฒะธะฐัััั
โ โโโ inline/
โ โ โโโ main_menu.py
โ โ โโโ talk.py
โ โ โโโ quiz.py
โ โ โโโ translator.py
โ โ โโโ recs.py
โ โโโ reply/
โ โโโ main_menu.py
โโโ services/
โ โโโ chatgpt.py # ะพะฑัััะบะฐ ะดะปั ัะฐะฑะพัั ั OpenAI
โโโ requirements.txt
โโโ Dockerfile
โโโ docker-compose.yml
โโโ README.md
```

---

## ๐ ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั

ะะพัะผะพััะตัั ะบะพะฝัะตะนะฝะตัั:
```bash
docker compose ps
```

ะะตัะตัะพะฑัะฐัั ะฟะพัะปะต ะธะทะผะตะฝะตะฝะธะน ะบะพะดะฐ:
```bash
docker compose up -d --build
```

ะะพะนัะธ ะฒะฝัััั ะบะพะฝัะตะนะฝะตัะฐ:
```bash
docker exec -it tg_gpt_aiogram_bot bash
```

---

## โ ะขัะฐะฑะปัััะธะฝะณ

- **`Token is invalid` / `NoneType`**  
  ะัะพะฒะตัั `.env`, ัะพะบะตะฝ ะดะพะปะถะตะฝ ะฑััั ะฒ ัะพัะผะฐัะต `1234567890:ABCDEF...`.

- **ะะพะฝัะตะนะฝะตั ะฟะตัะตะทะฐะฟััะบะฐะตััั / unhealthy**  
  ะัะพะฒะตัั ะธะฝัะตัะฝะตั ะดะพัััะฟ ะบ `api.telegram.org` ะธ `api.openai.com`.

- **ะะทะผะตะฝะธะป ะบะพะด, ะฐ ะฑะพั ะฝะต ะพะฑะฝะพะฒะธะปัั**  
  ะกะดะตะปะฐะน ะฟะตัะตัะฑะพัะบั:
  ```bash
  docker compose up -d --build
  ```

---

